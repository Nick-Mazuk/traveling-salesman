!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.r(e);class o{constructor(t,e){n(this,"xPos",void 0),n(this,"yPos",void 0),this.xPos=t,this.yPos=e}draw(t){t.beginPath(),t.arc(this.xPos,this.yPos,o.radius,0,2*Math.PI),t.fillStyle=o.color,t.fill()}pointIsInCity(t,e){return this.distanceFromPoint(t,e)<o.radius}distanceFromPoint(t,e){return Math.sqrt((t-this.xPos)**2+(e-this.yPos)**2)}distanceFromCity(t){return Math.sqrt((t.xPos-this.xPos)**2+(t.yPos-this.yPos)**2)}move(t,e){this.xPos=t,this.yPos=e}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}n(o,"radius",10),n(o,"color","#dbdbdb");class s{constructor(t,e){r(this,"cityA",void 0),r(this,"cityB",void 0),this.cityA=t,this.cityB=e}draw(t){t.beginPath(),t.moveTo(this.cityA.xPos,this.cityA.yPos),t.lineTo(this.cityB.xPos,this.cityB.yPos),t.strokeStyle=s.color,t.lineWidth=s.width,t.stroke()}length(){return this.cityA.distanceFromCity(this.cityB)}}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}r(s,"width",3),r(s,"color","#777777");let u,a,l=new class{constructor(t){c(this,"cities",void 0),c(this,"roads",void 0),this.cities=t}length(){let t=0;return this.roads.forEach(e=>t+=e.length()),t}createRoads(){if(this.roads=[],this.cities.length>2){for(let t=0;t<this.cities.length-1;t++)this.roads.push(new s(this.cities[t],this.cities[t+1]));this.roads.push(new s(this.cities[this.cities.length-1],this.cities[0]))}return this.roads}addCity(t){this.cities.push(t)}draw(t){console.time("Draw"),t.clearRect(0,0,t.canvas.clientWidth,t.canvas.clientHeight),this.roads.forEach(e=>e.draw(t)),this.cities.forEach(e=>e.draw(t)),console.timeEnd("Draw")}positionInCity(t,e){return this.cities.filter(i=>i.pointIsInCity(t,e))}}([]);function d(t){const e=function(t){return[t.clientX-u.getBoundingClientRect().left,t.clientY-u.getBoundingClientRect().top]}(t);return l.positionInCity(e[0],e[1])}function h(t){d(t).length||function(t){let e=t.clientX-u.getBoundingClientRect().left-o.radius/2,i=t.clientY-u.getBoundingClientRect().top-o.radius/2,n=new o(e,i);l.addCity(n),n.draw(a)}(t)}window.addEventListener("DOMContentLoaded",(function(){u=document.querySelector("canvas"),function(t){const e=window.devicePixelRatio||1,i=t.getBoundingClientRect();t.width=i.width*e,t.height=i.height*e,a=t.getContext("2d"),a.scale(e,e),t.addEventListener("mousedown",h)}(u)}))}]);